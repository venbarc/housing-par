@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap');
@import "tailwindcss";

@theme {
    --color-primary-50: #f7fbff;
    --color-primary-100: #eaf3ff;
    --color-primary-200: #d6e8ff;
    --color-primary-300: #b8d6ff;
    --color-primary-400: #91beff;
    --color-primary-500: #6fa7f5;
    --color-primary-600: #4f8de7;
    --color-primary-700: #3f7bd3;
    --color-primary-800: #3367b0;
    --color-primary-900: #2c5992;
}

@layer base {
    *, *::before, *::after { box-sizing: border-box; }

    :root {
        --primary-50: #eff5ff;
        --primary-200: #c4dafc;
        --primary-400: #5f98ef;
        --primary-500: #3d7de2;
        --primary-600: #2d62c3;
        --primary-700: #274ea1;
        --primary-50: #f7fbff;
        --primary-200: #d6e8ff;
        --primary-400: #91beff;
        --primary-500: #6fa7f5;
        --primary-600: #4f8de7;
        --primary-700: #3f7bd3;
        --bg: #f9fbff;
        --surface: #f9fbff;
        --surface-soft: #f3f7fd;
        --surface-strong: #eaf1fc;
        --card: #ffffff;
        --border-soft: #dde7f6;
        --border-strong: #c9d6ef;
        --text-strong: #0f172a;
        --text-muted: #53627a;
        --text-subtle: #667892;
        --shadow-card: 0 10px 28px rgba(20, 38, 70, 0.07);
        --shadow-hover: 0 14px 32px rgba(20, 38, 70, 0.10);
        --grid-line: rgba(61, 125, 226, 0.04);
        --status-available-bg: rgba(16, 185, 129, 0.12);
        --status-available-fg: #0f9c6c;
        --status-occupied-bg: rgba(61, 125, 226, 0.12);
        --status-occupied-fg: #3a7fd6;
        --status-cleaning-bg: rgba(251, 191, 36, 0.14);
        --status-cleaning-fg: #c38400;
        --status-maintenance-bg: rgba(244, 63, 94, 0.14);
        --status-maintenance-fg: #c6395a;
        --patient-stable-bg: rgba(16, 185, 129, 0.12);
        --patient-stable-fg: #0f9c6c;
        --patient-critical-bg: rgba(244, 63, 94, 0.14);
        --patient-critical-fg: #f97090;
        --patient-recovering-bg: rgba(61, 125, 226, 0.14);
        --patient-recovering-fg: #91beff;
        --patient-discharged-bg: rgba(148, 163, 184, 0.18);
        --patient-discharged-fg: #475569;
    }

    [data-theme='dark'] {
        --primary-50: #1a3155;
        --primary-200: #2a4c82;
        --primary-400: #4f7cc7;
        --primary-500: #6b9df0;
        --primary-600: #8ab6ff;
        --primary-700: #abcfff;
        --bg: #121a2c;
        --surface: #162135;
        --surface-soft: #1b2940;
        --surface-strong: #22314c;
        --card: #243554;
        --border-soft: #2c4161;
        --border-strong: #365079;
        --text-strong: #e9f1fb;
        --text-muted: #c2cfe4;
        --text-subtle: #9fb4d4;
        --shadow-card: 0 12px 30px rgba(5, 12, 24, 0.45);
        --shadow-hover: 0 14px 34px rgba(5, 12, 24, 0.55);
        --grid-line: rgba(138, 182, 255, 0.07);
        --status-available-bg: rgba(52, 211, 153, 0.18);
        --status-available-fg: #97f0d2;
        --status-occupied-bg: rgba(74, 132, 255, 0.18);
        --status-occupied-fg: #c5dcff;
        --status-cleaning-bg: rgba(251, 191, 36, 0.18);
        --status-cleaning-fg: #ffd98a;
        --status-maintenance-bg: rgba(248, 113, 113, 0.18);
        --status-maintenance-fg: #ffb8c6;
        --patient-stable-bg: rgba(52, 211, 153, 0.18);
        --patient-stable-fg: #97f0d2;
        --patient-critical-bg: rgba(248, 113, 113, 0.18);
        --patient-critical-fg: #ffb8c6;
        --patient-recovering-bg: rgba(74, 132, 255, 0.18);
        --patient-recovering-fg: #c5dcff;
        --patient-discharged-bg: rgba(148, 163, 184, 0.22);
        --patient-discharged-fg: #cbd5e1;
    }

    body {
        color: var(--text-strong);
        background:
            radial-gradient(1200px 520px at 10% -10%, rgba(61, 125, 226, 0.08), transparent 55%),
            radial-gradient(1000px 480px at 92% 4%, rgba(61, 125, 226, 0.06), transparent 60%),
            var(--surface);
        font-family: 'Manrope', ui-sans-serif, system-ui, sans-serif;
        transition: background-color 180ms ease, color 180ms ease;
    }

    a { transition: color 150ms ease, background-color 150ms ease, border-color 150ms ease; }
    h1, h2, h3, h4 { letter-spacing: -0.015em; color: var(--text-strong); }
}

@layer components {
    .page-shell { @apply mx-auto w-full max-w-[1440px] p-4 sm:p-6; }

    .card {
        background: var(--card);
        border: 1px solid var(--border-strong);
        border-radius: 1rem;
        box-shadow: var(--shadow-card);
        transition: background-color 150ms ease, border-color 150ms ease, box-shadow 150ms ease;
    }

    .surface-subtle {
        border: 1px solid var(--border-soft);
        background: var(--surface-soft);
        border-radius: 0.9rem;
    }

    .badge {
        @apply inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold;
        border: 1px solid var(--border-soft);
        color: var(--text-strong);
        background: var(--surface-soft);
        transition: background-color 150ms ease, color 150ms ease, border-color 150ms ease;
    }

    .btn-primary {
        @apply inline-flex items-center justify-center rounded-xl px-4 py-2.5 text-sm font-semibold;
        background: var(--primary-600);
        color: #ffffff;
        transition: transform 80ms ease, box-shadow 150ms ease, background-color 150ms ease;
        box-shadow: 0 10px 20px rgba(61, 125, 226, 0.22);
        font-family: inherit;
    }
    .btn-primary:hover { background: var(--primary-500); }
    .btn-primary:active { transform: translateY(1px); }

    .btn-secondary {
        @apply inline-flex items-center justify-center rounded-xl px-4 py-2.5 text-sm font-semibold;
        background: var(--card);
        color: var(--text-strong);
        border: 1px solid var(--border-soft);
        transition: transform 80ms ease, background-color 150ms ease, border-color 150ms ease, color 150ms ease;
        font-family: inherit;
    }
    .btn-secondary:hover { background: var(--surface-soft); }
    .btn-secondary:active { transform: translateY(1px); }

    .btn-link { @apply text-sm font-semibold; color: var(--primary-600); }
    .btn-link:hover { text-decoration: underline; }

    .form-input,
    .form-select,
    .form-textarea {
        @apply w-full rounded-xl px-3 py-2 text-sm outline-none transition placeholder:text-slate-400;
        background: var(--card);
        color: var(--text-strong);
        border: 1px solid var(--border-soft);
        font-family: inherit;
    }
    .form-input:focus,
    .form-select:focus,
    .form-textarea:focus {
        border-color: var(--primary-400);
        box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary-400) 25%, transparent);
    }
    .form-textarea { @apply min-h-[86px] resize-y; }

    .field-label { @apply mb-1 block text-xs font-semibold uppercase tracking-wide; color: var(--text-subtle); }

    .table-head { @apply text-xs uppercase tracking-wide; color: var(--text-subtle); }
    .table-cell { @apply py-3 text-sm; color: var(--text-strong); }

    .nav-link {
        @apply flex items-center justify-between rounded-xl px-3 py-2.5 text-sm font-semibold;
        color: var(--text-muted);
        border-left: 2px solid transparent;
        transition: background-color 140ms ease, color 140ms ease, border-color 140ms ease;
    }
    .nav-link:hover { background: var(--surface-soft); color: var(--text-strong); }
    .nav-link.active {
        background: var(--surface-strong);
        color: var(--text-strong);
        border-left-color: var(--primary-500);
    }

    .mobile-nav {
        background: color-mix(in srgb, var(--card) 92%, transparent);
        border-top: 1px solid var(--border-soft);
        backdrop-filter: blur(12px);
    }

    .bed-canvas {
        position: relative;
        overflow: hidden;
        border-radius: 1rem;
        border: 1px solid var(--border-soft);
        background:
            radial-gradient(900px 480px at 10% 0%, color-mix(in srgb, var(--primary-400) 8%, transparent) 0%, transparent 60%),
            radial-gradient(1100px 520px at 90% 8%, color-mix(in srgb, var(--primary-500) 6%, transparent) 0%, transparent 65%),
            repeating-linear-gradient(0deg, var(--grid-line) 0, var(--grid-line) 1px, transparent 1px, transparent 40px),
            repeating-linear-gradient(90deg, var(--grid-line) 0, var(--grid-line) 1px, transparent 1px, transparent 40px),
            var(--surface);
    }

    .bed-card {
        background: var(--card);
        border: 1px solid var(--border-soft);
        border-radius: 0.95rem;
        box-shadow: var(--shadow-card);
        transition: transform 120ms ease, box-shadow 150ms ease, border-color 150ms ease, background-color 150ms ease;
    }
    .bed-card:hover { transform: translateY(-2px) scale(1.01); box-shadow: var(--shadow-hover); }
    .bed-card:active { transform: translateY(0) scale(0.99); }
    .bed-card:focus-visible { outline: 2px solid var(--primary-500); outline-offset: 3px; }

    .status-border-available { border-left: 4px solid var(--status-available-fg); }
    .status-border-occupied { border-left: 4px solid var(--status-occupied-fg); }
    .status-border-cleaning { border-left: 4px solid var(--status-cleaning-fg); }
    .status-border-maintenance { border-left: 4px solid var(--status-maintenance-fg); }

    .bg-status-available { background: var(--status-available-bg); }
    .text-status-available { color: var(--status-available-fg); }
    .bg-status-occupied { background: var(--status-occupied-bg); }
    .text-status-occupied { color: var(--status-occupied-fg); }
    .bg-status-cleaning { background: var(--status-cleaning-bg); }
    .text-status-cleaning { color: var(--status-cleaning-fg); }
    .bg-status-maintenance { background: var(--status-maintenance-bg); }
    .text-status-maintenance { color: var(--status-maintenance-fg); }

    .bg-patient-stable { background: var(--patient-stable-bg); }
    .text-patient-stable { color: var(--patient-stable-fg); }
    .bg-patient-critical { background: var(--patient-critical-bg); }
    .text-patient-critical { color: var(--patient-critical-fg); }
    .bg-patient-recovering { background: var(--patient-recovering-bg); }
    .text-patient-recovering { color: var(--patient-recovering-fg); }
    .bg-patient-discharged { background: var(--patient-discharged-bg); }
    .text-patient-discharged { color: var(--patient-discharged-fg); }

    .pulse-dot {
        position: relative;
        display: inline-flex;
        width: 10px; height: 10px;
        border-radius: 999px;
        background: var(--status-occupied-fg);
        margin-right: 8px;
    }
    .pulse-dot::after {
        content: "";
        position: absolute;
        inset: -4px;
        border-radius: 999px;
        border: 2px solid color-mix(in srgb, var(--status-occupied-fg) 55%, transparent);
        animation: pulse 1.6s ease-out infinite;
    }
    @keyframes pulse {
        0% { transform: scale(0.75); opacity: 0.65; }
        60% { transform: scale(1.25); opacity: 0; }
        100% { transform: scale(1.35); opacity: 0; }
    }

    .modal-backdrop {
        @apply absolute inset-0;
        background: color-mix(in srgb, #0b1220 55%, transparent);
        backdrop-filter: blur(2px);
    }
    .modal-panel {
        animation: modal-in 220ms ease;
        border-radius: 1rem;
        background: var(--card);
        border: 1px solid var(--border-strong);
    }
    @keyframes modal-in {
        0% { opacity: 0; transform: translateY(12px) scale(0.98); }
        100% { opacity: 1; transform: translateY(0) scale(1); }
    }
}
